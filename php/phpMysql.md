# PHP+MySQL 웹 개발 마스터북(나가타 요리노부 저, 김동섭 번, 남가람북스)

PHP(Personal Home Page)
Hypertext Preprocessor. HTML문서를 동적으로 생성하여 화면을 빠르게 만든다

빠른 실행 속도와 쉽게 구현할 수 있어 회원제 시스템이나 쇼핑몰 등 웹 애플리케이션을 개발할 때 자주 사용

<h5>서버사이드 스크립트 언어<br>
문자 코드 자동 변환. 서버는 UTF-8, 웹은 EUC-KR을 쓴다면 중요한 기능<br>
세션 관리 편리<br>
각종 DB지원<br>
다양한 라이브러리 지원<br>
객체지향</h5>

https://www.apachefriends.org  에서 XAMPP 홈페이지에 XHAMPP 설치하여 Apache, PHP를 설치
JRE 설치
https://netbeans.org/downloads  에서 NetBeans로 IDE를 설치(JRE 설치가 선행되어야 함)

## Apache 설정
### httpd.conf 설정
\#은 주석
ServerRoot 폴더 설정
Listen 포트설정
LoadModule
XHAMPP는 httpd-xampp.conf 파일에서 모듈을 읽어들임(httpd.conf 파일이 있는 디렉터리에 extra 디렉터리)
ServerAdmin은 오류가 발생시 표시되는 화면의 서버 관리자 메일 주소 설정

* .ataccess란 파일로 디렉터리마다 설정할 수도 있음

## PHP 설정
### php.ini 설정
\;이 있으면 주석으로 처리됨
default_charset을 한글로 바꾸기 위해 iso-8859-1이나 UTF-8로 수정
date.timezone을 Asia/Seoul로 변경이 필요
mbstring으로 2바이트 문자에 대한 멀티바이트 인코딩을 처리하는 설정. UTF-8로 지정

* php는 <? 태그로 시작해서 ?> 태그로 닫힌다. 그 외 범위에서 php는 동작하지 않음
* <?xml 태그는 XHTML이나 XML 문서와 함께 사용할 때 <?php 태그와 사용할 때 문서 표준과 호환을 유지할 수 있다

자바와 c언어 형식의 주석인 \//과 /* */ 을 사용할 수 있다

php 시작태그와 종료태그 밖에 html 태그로 감싸면 HTML로 인식한다

* php 코드를 동작시키려면 확장자를 php로, 문자 코드는 UTF-8로(한글) 만들어야한다

## PHP의 상수
PHP_VERSION
PHP_OS : 실행중인 OS

* 언더바는 두개씩 기재한다

__LINE__ : 처리중인 파일의 현재 줄 번호
__FILE__ : 처리중인 파일의 전체 경로와 이름
__DIR__ : 처리중인 파일의 디렉토리
__FUNCTION__ : 함수명
__CLASS__ : 클래스명
__TRAIT__ : 트레이트명
__METHOD__ : 메서드명
__NAMESPACE__ : 현재 네임스페이스 이름
true
false
null

* define 함수를 사용하면 상수를 정의할 수 있다. define("상수명", "정의할 값"); 상수명은 대소문자를 구분. 대문자로 해두면 읽기 편해짐

## 변수
* 변수는 반드시 $를 붙이고 알파벳이나 숫자를 붙여서 사용하며, 대소문자를 구분한다. 변수명 첫글자를 숫자를 쓰려면 $_숫자로 사용한다
* 변수에 내용을 할당하는 것은 c나 java와 동일하다
* 변수를 사용하려면 $변수명 으로 사용하낟

※ 변수의 형은 php가 판단하여 할당한다

## 배열
* $배열명으로 변수와 다를바 없이 선언한다. 값의 할당은 배열명 뒤에 대괄호를 붙여 사용하며, 값의 사용은 대괄호 안에 인덱스를 사용한다
* $변수명 = array(data1, data2, data3) 등으로 배열을 선언하여 사용할 수도 있다
* 배열의 초기화는 $배열명 = array()로 수행할 수 있다
explode 함수로 문자열을 나눠 배열을 작성하게 할 수 있다. explode는 java의 String에 split 메서드처럼 구분문자, 문자열로 넣어 사용한다

### 연관배열
* 임의의 이름(키)를 붙여 배열을 식별할 수 있다(java의 map)
* $연관배열명으로 배열을 선언하고 할당시에 index에 key를 적어넣는다. 사용할 때도 인덱스에 key를 적어넣어 불러온다
* array함수를 사용할 때는 array(key=>값, key=>값) 등으로 지정한다. php 5.4 이상에서는 array 대신 []만을 사용할 수도 있다

※ 주의해야할 연산자
.= 문자열을 연결하여 할당

## 연산자

### 비트연산자
&은 AND
!은 OR
^은 XOR
~은 NOT
<<과 >>은 좌, 우 shift

### 논리연산자
and, or, xor, !, &&, ||

### 비교연산자
=== 값과 자료형이 같은가
<> 은 !=과 같다
!== 같지 않거나, 같은 자료형이 아닌가

### 오류제어연산자
\@ php의 식 앞에 붙이는 것으로 식에 오류가 있어도 오류 메시지를 무시. 변수, 함수, include, 정수의 앞에 붙일 수 있다

※ 함수의 정의나 foreach, 조건문에는 붙일 수 없음

### 실행연산자
명령을 `로 묶어 실행시킨다



## HTML 태그와 함께 사용하여 form method를 POST하고 action을 php파일로 지정하여, 해당 php파일에서 $_POST["name"]으로 값을 받아 쓸 수 있다
## class라는 키워드를 사용해 객체지향 언어(특히 java)처럼 사용할 수 있다
### 오브젝트 변수(클래스에서 생성된 인스턴스)->메서드();하여 메서드를 사용한다
### java와 마찬가지로 접근 제한 키워드들이 존재한다. 단, public, private, protected만 존재하며 아무것도 입력하지 않으면 기본값으로 public이다

### 클래스의 상속은 class 새로운클래스명(서브클래스) extends 상속할클래스명(슈퍼클래스) 로 클래스 선언시에 사용한다
### 오버라이드하려면 private으로 만든것들만 가능(?)
### final 키워드를 추가하면 오버라이드, 상속을 금지할 수 있다

## traits
### 상속과는 다른 방법으로 코드를 재사용. 인스턴스를 작성할 수는 없지만 다중상속처럼 사용할 수 있다
### 이름이 같은 메서드가 존재한다면 우선순위가 높은 메서드를 오버라이드한다. 클래스 메서드>트레이트 메서드>상속한 메서드

### trait 트레이트명{ 내부구현 } 하여 사용
### 트레이트로 선언한 메서드를 쓰려면 클래스 내부에서 use 트레이트명을 지정한다

## Iterator
### design pattern 중 하나. 반복자를 사용
